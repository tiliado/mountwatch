Mount Watch
===========

About
-----

Mount Watch monitors mounts (e.g. USB sticks or hard drives) and runs task on mount/unmount events.

Installation
------------

1) Dependencies

* valac >= 0.16
* gcc
* glib-2.0 >= 2.32
* gio-2.0 >= 2.32
* make

2) Build

Run as a regular user:

    make

3) Install

Run as root:

    make install

or

    make PREFIX=/usr install

4) Uninstall

Run as root:

    make uninstall

or

    make PREFIX=/usr uninstall

Usage
-----

Put tasks into ~/.config/mountwatch/tasks. Tasks must be executable files with filenames
"{MOUNT_NAME}--{EVENT}{WHATEVER}", eg. "myexthdd--M01_mount_encfs.sh".

{MOUNT_NAME} - usually a label of a partition
{EVENT}      - "M" for mount event, "U" for unmount event
{WHATEVER}   - short description of the script

Tasks are executed in alphabetical order with two arguments:
- a full path of mount's root directory, e.g. "/media/myexthdd"
- a mount name, usually a label of a partition, e.g. "myexthdd"

Run "mountwatch" as a regular user, use Ctrl-C to quit the app.
