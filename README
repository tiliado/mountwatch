Mount Watch
===========

Home page: https://github.com/tiliado/mountwatch

About
-----

Mount Watch monitors mounts (e.g. USB sticks or hard drives) and runs task on mount/unmount events.

Installation
------------

1) Dependencies

* valac >= 0.16         https://wiki.gnome.org/Projects/Vala
* gcc                   http://gcc.gnu.org/
* glib-2.0 >= 2.32      http://www.gtk.org/
* gio-2.0 >= 2.32       http://www.gtk.org/
* dioriteglib           https://github.com/tiliado/diorite
* python 2              http://python.org/

2) Configure

Run as a regular user:

    ./waf configure

or

    ./waf configure --prefix=/usr

2) Build

Run as a regular user:

    ./waf build

3) Install

Run as root:

    ./waf install

4) Uninstall

Run as root:

    ./waf uninstall

Usage
-----

Put tasks into ~/.config/mountwatch/tasks. Tasks must be executable files with filenames
"{MOUNT_NAME}--{EVENT}{WHATEVER}", eg. "myexthdd--M01_mount_encfs.sh".

{MOUNT_NAME} - usually a label of a partition
{EVENT}      - "M" for mount event, "U" for unmount event
{WHATEVER}   - short description of the script

Tasks are executed in alphabetical order with two arguments:
- a full path of mount's root directory, e.g. "/media/myexthdd"
- a mount name, usually a label of a partition, e.g. "myexthdd"

Run "mountwatch" as a regular user, use Ctrl-C to quit the app.

Support
-------

Report bugs at https://github.com/tiliado/mountwatch/issues
